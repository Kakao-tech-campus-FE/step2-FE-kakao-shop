{"ast":null,"code":"var _jsxFileName = \"/Users/somingyeong/Documents/kakao/step2-FE-kakao-shop/step-2-week1/src/component/molecules/OptionColumn.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport OptionList from \"../atoms/OptionList\";\nimport { comma } from \"../../utils/convert\";\nimport Counter from \"../atoms/Counter\";\nimport { useMutation } from \"react-query\";\nimport { addCart } from \"../../services/cart\";\nimport Button from \"../atoms/Button\";\nimport '../../styles/molcules/OptionColumn.css';\nimport cart from '../../img/cart_white.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OptionColumn = _ref => {\n  _s();\n  let {\n    product\n  } = _ref;\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const handleOnClickOption = option => {\n    const isOptionSelected = selectedOptions.find(el => el.optionId === option.id);\n\n    // 이미 선택된 옵션이면 수량 증가시킴\n    if (isOptionSelected) {\n      return;\n    }\n    setSelectedOptions(prev => [...prev, {\n      optionId: option.id,\n      quantity: 1,\n      price: option.price,\n      name: option.optionName\n    }]);\n  };\n  const handleOnChange = (count, optionId) => {\n    setSelectedOptions(prev => {\n      return prev.map(el => {\n        if (el.optionId === optionId) {\n          return {\n            ...el\n            // quantity: stableValueHash,\n          };\n        }\n\n        return el;\n      });\n    });\n  };\n  const {\n    mutate\n  } = useMutation({\n    mutationFn: addCart\n  });\n  const buttonStyle = {\n    width: '200px',\n    // 버튼의 너비를 200px로 설정\n    height: '50px',\n    // 버튼의 높이를 50px로 설정\n    background: 'orange',\n    // 배경색을 파란색으로 설정\n    color: 'white',\n    // 글자 색을 흰색으로 설정\n    border: 'none',\n    // 테두리를 없앰\n    borderRadius: '4px',\n    // 버튼 모서리를 둥글게 설정\n    cursor: 'pointer'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"option-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uC635\\uC158\\uC120\\uD0DD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-btn\",\n      children: \"\\uC885\\uB958\\uC120\\uD0DD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-item\",\n      children: /*#__PURE__*/_jsxDEV(OptionList, {\n        options: product.options,\n        onclick: handleOnClickOption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total-price\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\uCD1D \\uC218\\uB7C9: \", \" \", comma(selectedOptions.reduce((acc, cur) => {\n          return acc + cur.quantity;\n        }, 0)), \"\\uAC1C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\uCD1D \\uC0C1\\uD488 \\uAE08\\uC561:\", comma(selectedOptions.reduce((acc, cur) => {\n          return acc + cur.quantity * cur.price;\n        }, 0)), \"\\uC6D0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), selectedOptions.map(option => /*#__PURE__*/_jsxDEV(\"ol\", {\n      className: \"selected-option-list\",\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"selected-option\",\n        children: [/*#__PURE__*/_jsxDEV(Counter, {\n          onIncrease: count => handleOnChange(count, option.id),\n          onDecrease: count => handleOnChange(count, option.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: option.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"price\",\n          children: [comma(option.price), \"\\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, option.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-cart\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            mutate(selectedOptions.map(el => {\n              return {\n                optionId: el.id,\n                quantity: el.quantity\n              };\n            }), {\n              onSuccess: () => {\n                alert(\"장바구니에 담겼습니다.\");\n              },\n              onError: () => {\n                alert(\"장바구니 담기에 실패했습니다.\");\n              }\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: cart,\n            alt: \"cart\",\n            height: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: buttonStyle,\n        className: \"buy-now\",\n        children: \"\\uBC14\\uB85C\\uAD6C\\uB9E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(OptionColumn, \"z9CqRNjkoNlwSWxe2FEvwIrvZgE=\", false, function () {\n  return [useMutation];\n});\n_c = OptionColumn;\nexport default OptionColumn;\nvar _c;\n$RefreshReg$(_c, \"OptionColumn\");","map":{"version":3,"names":["useState","OptionList","comma","Counter","useMutation","addCart","Button","cart","jsxDEV","_jsxDEV","OptionColumn","_ref","_s","product","selectedOptions","setSelectedOptions","handleOnClickOption","option","isOptionSelected","find","el","optionId","id","prev","quantity","price","name","optionName","handleOnChange","count","map","mutate","mutationFn","buttonStyle","width","height","background","color","border","borderRadius","cursor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","options","onclick","reduce","acc","cur","onIncrease","onDecrease","onClick","onSuccess","alert","onError","src","alt","style","_c","$RefreshReg$"],"sources":["/Users/somingyeong/Documents/kakao/step2-FE-kakao-shop/step-2-week1/src/component/molecules/OptionColumn.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport OptionList from \"../atoms/OptionList\";\nimport { comma } from \"../../utils/convert\";\nimport Counter from \"../atoms/Counter\";\nimport { useMutation } from \"react-query\";\nimport { addCart } from \"../../services/cart\";\nimport Button from \"../atoms/Button\";\nimport '../../styles/molcules/OptionColumn.css'\nimport cart from '../../img/cart_white.png';\n\nconst OptionColumn = ({ product }) => {\n    const [selectedOptions, setSelectedOptions] = useState([]);\n\n    const handleOnClickOption = (option) => {\n\n        const isOptionSelected = selectedOptions.find(\n            (el) => el.optionId === option.id\n        );\n\n        // 이미 선택된 옵션이면 수량 증가시킴\n        if (isOptionSelected) {\n            return;\n        }\n\n\n        setSelectedOptions((prev) => [\n            ...prev,\n            {\n                optionId: option.id,\n                quantity: 1,\n                price: option.price,\n                name: option.optionName,\n            }\n        ])\n    };\n\n    const handleOnChange = (count, optionId) => {\n        setSelectedOptions((prev) => {\n            return prev.map((el) => {\n                if (el.optionId === optionId) {\n                    return {\n                        ...el,\n                        // quantity: stableValueHash,\n                    };\n                }\n                return el;\n            });\n        });\n    }\n\n    const { mutate } = useMutation({\n        mutationFn: addCart,\n    });\n\n\n    const buttonStyle = {\n        width: '200px',   // 버튼의 너비를 200px로 설정\n        height: '50px',   // 버튼의 높이를 50px로 설정\n        background: 'orange', // 배경색을 파란색으로 설정\n        color: 'white',   // 글자 색을 흰색으로 설정\n        border: 'none',   // 테두리를 없앰\n        borderRadius: '4px', // 버튼 모서리를 둥글게 설정\n        cursor: 'pointer',\n    }\n\n\n\n\n    return (\n    <div className=\"option-column\">\n        <h3>옵션선택</h3>\n        <div className=\"dropdown-btn\">종류선택</div>\n        <div className=\"dropdown-item\">\n        <OptionList \n            options={product.options}\n            onclick={handleOnClickOption} />\n        </div>\n        <hr />\n        <div className=\"total-price\">\n            <span>\n                총 수량: {\" \"}\n                {comma(selectedOptions.reduce((acc, cur) => {\n                    return acc + cur.quantity;\n                }, 0))}\n                개\n             </span>\n            <span>총 상품 금액: \n                {comma(selectedOptions.reduce((acc, cur) => {\n                    return acc + cur.quantity * cur.price;\n                }, 0))}\n                원\n            </span>\n        </div>\n        {selectedOptions.map((option) => (\n            <ol key={option.id} className=\"selected-option-list\">\n                <li className=\"selected-option\">\n                    <Counter \n                        onIncrease={(count) => handleOnChange(count, option.id)}\n                        onDecrease={(count) => handleOnChange(count, option.id)}\n                    />\n                    <span className=\"name\">{option.name}</span>\n                    <span className=\"price\">{comma(option.price)}원</span>\n                </li>\n            </ol>\n        ))}\n        <div className=\"button-group\">\n            <div className=\"button-cart\">\n            <Button\n                onClick={() => {\n                    mutate(\n                        selectedOptions.map((el) => {\n                            return {\n                                optionId: el.id,\n                                quantity: el.quantity,\n                            };\n                        }), {\n                            onSuccess: () => {\n                                alert(\"장바구니에 담겼습니다.\")\n\n                            },\n                            onError: () => {\n                                alert(\"장바구니 담기에 실패했습니다.\")\n\n                            }\n                        }\n                    );\n                }}\n                ><img src={cart} alt=\"cart\" height={40}/></Button>\n                </div>\n               <button style={buttonStyle} className=\"buy-now\">바로구매</button>\n              \n        </div>\n    </div>)\n}\n\nexport default OptionColumn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}